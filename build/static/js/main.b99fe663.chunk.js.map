{"version":3,"sources":["firebase.js","App.jsx","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","App","useState","tareas","setTareas","tarea","setTarea","fecha","setFecha","id","setId","modoEdicion","setModoEdicion","React","useEffect","obtenerDatos","a","db","firestore","collection","get","data","console","log","docs","map","doc","arrayData","agregar","e","preventDefault","trim","nuevaTarea","name","date","add","eliminar","delete","arrayFiltrado","filter","item","editar","editarTarea","update","arrayEditado","className","onClick","activarEdicion","onSubmit","type","placeholder","value","onChange","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b99fe663.chunk.js","sourcesContent":["//Import de la libreria\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCyfR3Cl13RtT7P901ORA8JOF6vXpJlWSs\",\r\n  authDomain: \"crudreact-9462a.firebaseapp.com\",\r\n  projectId: \"crudreact-9462a\",\r\n  storageBucket: \"crudreact-9462a.appspot.com\",\r\n  messagingSenderId: \"125727015229\",\r\n  appId: \"1:125727015229:web:f47b5b8cf00a11d88c4554\"\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport {firebase}\r\n","import React, {useState} from 'react';\nimport './App.css';\nimport {firebase} from './firebase';\n\n\nfunction App() {\n  //Constante para mostrar en el html las tareas\n  const [tareas, setTareas] = useState([])\n  //Constante para agregar la tarea\n  const [tarea, setTarea] = useState('')\n  //Constante para agregar la tarea\n  const [fecha, setFecha] = useState('')\n  //Constante para edicion obtener id\n  const [id, setId] = useState('')\n\n  //Constante bandera para swichear entre agregar y editar\n  const [modoEdicion, setModoEdicion] = useState(false)\n\n  React.useEffect(() => {\n\n    //Funcion asyc para obterner datos\n    const obtenerDatos = async () => {\n      try {\n        const db = firebase.firestore()\n        const data = await db.collection('tareas').get()\n        console.log(data.docs)\n        const arrayData = await data.docs.map(doc => ({ id: doc.id, ...doc.data()}))\n        console.log(arrayData)\n        setTareas(arrayData)\n      } catch (error) {\n        console.log(error)\n      }\n    }\n\n    obtenerDatos()\n\n  }, [])\n\n  //funcion agregar\n  const agregar = async (e) => {\n    console.log(\"Se esta ejecutando la funcion Agregar\")\n    e.preventDefault()\n    //Validación para saber si esta llena o vacia la tarea\n    if(!tarea.trim() | !fecha.trim()){\n      console.log(\"Falta un Campo\")\n      return\n    }\n\n    //Colocamos un try y catch por que la funcion es async\n    //Vamos a invocar a db y firestore\n    try {\n      const db = firebase.firestore()\n      //Declaramos un objeto para enviar todos los campos que enviaremos\n      const nuevaTarea = {\n        name: tarea,\n        date: fecha\n      }\n\n      //Codigo para agregar la tarea en firebase codigo de plataforma\n      const data = await db.collection('tareas').add(nuevaTarea)\n\n      //Con esto actualizo la lista sin dar refres prueba antes de poner\n      setTareas([\n        ...tareas,\n        {...nuevaTarea, id: data.id}\n      ])      \n\n      //Limpio tarea\n      setTarea('')\n      setFecha('')\n\n    } catch (error) {\n      console.log(error)\n    }\n\n    console.log(tarea)\n  }\n\n  //Funcion eliminar registros\n  const eliminar = async (id) => {\n    try {\n      console.log(id)\n      const db = firebase.firestore()\n      await db.collection('tareas').doc(id).delete()\n\n      const arrayFiltrado = tareas.filter(item => item.id !== id)\n      \n      console.log(\"Arreglo completo\",tareas)\n      console.log(\"Arreglo Filtrado\",arrayFiltrado)\n      \n      setTareas(arrayFiltrado)\n\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n\n  //Funcion para activar la edición\n  const activarEdicion = (item) =>{\n    setModoEdicion(true)\n    console.log(\"Elemento name\",item.name)\n    setTarea(item.name)\n    console.log(\"Elemento date\",item.date)\n    setFecha(item.date)\n    console.log(\"Elemento id\",item.id)\n    setId(item.id)\n  }\n\n  const editar = async (e) => {\n    console.log(\"Se esta ejecutando la funcion editar\")\n    e.preventDefault()\n    if(!tarea.trim() | !fecha.trim()){\n      console.log(\"Falta un Campo\")\n      return\n    }\n\n    try {\n      const db = firebase.firestore()\n      //Declarar un objeto para mandar los datos actualizados\n      const editarTarea = {\n        name: tarea,\n        date: fecha\n      }\n\n      await db.collection('tareas').doc(id).update(editarTarea)\n\n      //Actulizar en pantalla sin refescar\n      const arrayEditado = tareas.map(item => (\n        item.id === id ? editarTarea : item\n      ))\n\n      setTareas(arrayEditado)\n\n      //Limpiar constantes\n      setTarea('')\n      setFecha('')\n      setId('')\n      setModoEdicion(false)\n\n    } catch (error) {\n      console.log(error)\n    }\n\n\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Proyecto Firebase</h1>\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n            <h3>Lista de Tareas</h3>\n            <ul className=\"list-group\">\n            {\n                tareas.map(item => (\n                  <li className=\"list-group-item\" key={item.id}>\n                  <span>{item.name}</span>\n                  <br/>\n                  <span>{item.date}</span>\n                    <button \n                    className=\"btn btn-danger btn-sm float-right\"\n                    onClick={() => eliminar(item.id)}>\n                        Eliminar\n                    </button>\n                    <button \n                    className=\"btn btn-warning btn-sm float-right mr-2\"\n                    onClick={() => activarEdicion(item)}\n                    >\n                        Editar\n                    </button>\n                </li>\n                ))\n            }\n            </ul>\n        </div>\n        \n        <div className=\"col-md-6\">\n            <h3>{\n                modoEdicion ? 'Editar Tarea' : 'Agregar Tarea'\n              }</h3>\n            <form onSubmit={\n              modoEdicion ? editar : agregar\n              }>\n              <input \n                type=\"text\" \n                className=\"form-control mb-2\"\n                placeholder='Ingrese Tarea'\n                value={tarea}\n                onChange={e => setTarea(e.target.value)}\n              />\n              <input \n                type=\"datetime-local\"\n                className=\"form-control mb-2\"\n                value={fecha}\n                onChange={e => setFecha(e.target.value)}\n              />\n              <button\n                type='submit'\n                className={\n                  modoEdicion ? \"btn btn-warning btn-block btn-sm\" : \"btn btn-dark btn-block btn-sm\"\n                }\n              >{\n                modoEdicion ? 'Actualizar' : 'Guardar'\n              }</button>\n            </form>\n        </div>\n    </div>\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}